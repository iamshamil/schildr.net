{"version":3,"file":"static/js/668.3f825a0a.chunk.js","mappings":"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","sources":["pages/Home/index.js","../node_modules/@mui/icons-material/Edit.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Link as RouterLink } from 'react-router-dom'\nimport moment from 'moment';\n\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport IconButton from '@mui/material/IconButton';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport { MuiColorInput } from 'mui-color-input'\n\nimport AddIcon from '@mui/icons-material/Add';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\n\nimport { createProject, getProjects, updateProject, deleteProject } from \"../../utilis/request\";\nimport { toast } from 'react-toastify';\nimport { getColor } from '../../utilis/util';\nimport useConfig from '../../hooks/useConfig';\n\nconst Home = () => {\n    const [open, setOpen] = useState(false);\n    const [isEdit, setIsEdit] = useState(\"\");\n    const [projects, setProjects] = useState([]);\n    const [values, setValues] = useState({\n        name: \"\",\n        color: \"#dddddd\",\n        mark: 0,\n        check: false,\n        error: \"\"\n    });\n    const { user } = useConfig()\n\n    const { name, color, error, check } = values;\n\n    const handleValue = (data) => setValues((pre) => ({ ...pre, ...data }));\n\n    const openModal = (e) => {\n        e.preventDefault();\n        setOpen(true);\n    }\n\n    const openEdit = (e, item) => {\n        e.preventDefault();\n        setIsEdit(item._id)\n        setOpen(true);\n        handleValue({ name: item.name, color: item.color, check: false })\n    }\n\n    const closeModal = () => {\n        setOpen(false);\n        setValues({ name: \"\", check: false, error: \"\", mark: 0 });\n    }\n\n    const createOne = async () => {\n        handleValue({ check: true })\n        if (!name) {\n            return;\n        }\n\n        if (isEdit) {\n            const rdata = await updateProject({ name, color, id: isEdit })\n            if (rdata.status) {\n                setProjects(pre => {\n                    return pre.map((e) => {\n                        if (e._id === rdata.data._id) {\n                            return rdata.data\n                        } else {\n                            return e;\n                        }\n                    })\n                })\n                closeModal();\n            } else {\n                toast.error(rdata.message)\n            }\n        } else {\n            const rdata = await createProject({ name, color })\n            if (rdata.status) {\n                setProjects(pre => {\n                    return [...pre, rdata.data]\n                })\n                closeModal();\n            } else {\n                toast.error(rdata.message)\n            }\n        }\n    }\n\n    const remove = async (e, id) => {\n        e.preventDefault();\n        const data = await deleteProject(id)\n        if (data.status) {\n            setProjects(pre => pre.filter((e) => e._id !== id));\n        } else {\n            toast.error(data.message)\n        }\n    }\n\n\n    const getData = async () => {\n        const rdata = await getProjects(user._id);\n        if (rdata.status) {\n            setProjects(rdata.data);\n        } else {\n            toast.error(rdata.message)\n        }\n    }\n\n    useEffect(() => {\n        getData();\n        // eslint-disable-next-line\n    }, []);\n\n    return (\n        <>\n            <Box sx={{ width: '100%', height: '100%', bgcolor: '#f5f5f5', p: 4 }}>\n                <Typography variant='h5' sx={{ fontWeight: \"600\", mb: 3 }}>Home</Typography>\n                <Grid container spacing={2}>\n                    {\n                        projects.map((e, i) => (\n                            <Grid key={i} item xl={12 / 6} md={12 / 5} sm={12 / 2} xs={12}>\n                                <Button\n                                    component={RouterLink}\n                                    to={e._id}\n                                    sx={{\n                                        position: \"relative\",\n                                        color: e.color,\n                                        borderRadius: 2,\n                                        justifyContent: \"flex-start\",\n                                        width: \"100%\",\n                                        border: \"1px solid #e0e1e1\",\n                                        p: 2.,\n                                        bgcolor: \"#fff\",\n                                        cursor: \"pointer\",\n                                        transition: \"all 0.2s\",\n                                        \"&:hover\": {\n                                            borderColor: \"#fff\",\n                                            boxShadow: \"0 0 9px 0px #c0c0c0\",\n                                            \"& .manage\": {\n                                                display: \"block\"\n                                            }\n                                        }\n                                    }}>\n                                    <Box sx={{ bgcolor: e.color, borderRadius: 2, width: 56, height: 56, fontSize: 20, fontWeight: 600, display: \"flex\", alignItems: \"center\", justifyContent: \"center\", mr: 2, textTransform: \"uppercase\", color: getColor(e.color) }}>\n                                        {e.name[0]}\n                                    </Box>\n                                    <Stack sx={{ width: \"calc(100% - 76px)\", maxWidth: \"100%\", overflow: \"hidden\", textOverflow: \"ellipsis\", whiteSpace: \"nowrap\" }}>\n                                        <Typography sx={{ fontSize: 16, textAlign: \"start\", color: \"#000\" }}>{e.name}</Typography>\n                                        <Typography sx={{ fontSize: 12, opacity: 0.7, textAlign: \"start\", color: \"#000\" }}>{moment(e.createdAt).format(\"MM/DD/yyyy\")}</Typography>\n                                    </Stack>\n                                    {\n                                        user?.role === \"Admin\" &&\n                                        <Stack className='manage' direction='row' sx={{ position: \"absolute\", top: 5, right: 5, zIndex: 999, display: \"none\" }}>\n                                            <IconButton sx={{ p: .5 }} onClick={(p) => openEdit(p, e)}><EditIcon sx={{ fontSize: 16 }} /></IconButton>\n                                            <IconButton sx={{ p: .5 }} onClick={(p) => remove(p, e._id)}><DeleteIcon sx={{ fontSize: 16 }} /></IconButton>\n                                        </Stack>\n                                    }\n                                </Button>\n                            </Grid>\n                        ))\n                    }\n                </Grid>\n                {\n                    user && user.role === \"Admin\" &&\n                    <Box sx={{ borderTop: \"1px solid #e0e1e1\", pt: 4, mt: 4 }}>\n                        <Grid container spacing={2}>\n                            <Grid item xl={12 / 6} md={12 / 5} sm={12 / 2} xs={12}>\n                                <Button\n                                    onClick={openModal}\n                                    sx={{ borderRadius: 2, justifyContent: \"flex-start\", width: \"100%\", border: \"1px solid #e0e1e1\", p: 2., bgcolor: \"#fff\", cursor: \"pointer\", transition: \"all 0.2s\", \"&:hover\": { boxShadow: \"0 0 9px 0px #c0c0c0\", borderColor: \"#fff\" } }}>\n                                    <Box sx={{ bgcolor: (theme) => theme.palette.info.main, borderRadius: 2, width: 56, height: 56, display: \"flex\", alignItems: \"center\", justifyContent: \"center\", mr: 2 }}>\n                                        <AddIcon sx={{ color: \"#fff\" }} />\n                                    </Box>\n                                    <Stack sx={{ width: \"calc(100% - 76px)\", maxWidth: \"100%\", overflow: \"hidden\", textOverflow: \"ellipsis\", whiteSpace: \"nowrap\" }}>\n                                        <Typography sx={{ fontSize: 16, textAlign: \"start\", color: \"#000\" }}>Create one</Typography>\n                                        <Typography sx={{ fontSize: 12, opacity: 0.7, textAlign: \"start\", color: \"#000\" }}>{moment(new Date()).format(\"MM/DD/yyyy\")}</Typography>\n                                    </Stack>\n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Box>\n                }\n            </Box >\n\n            <Dialog\n                open={open}\n                onClose={closeModal}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">\n                    {`${isEdit ? \"Edit\" : \"Create a new\"} project`}\n                </DialogTitle>\n                <DialogContent>\n                    <Stack spacing={1} sx={{ py: 1 }}>\n                        <TextField required value={name} error={!name && check} onChange={(e) => handleValue({ name: e.target.value })} placeholder='Project Name' sx={{ width: 500 }} />\n                        <MuiColorInput required value={color} error={!color && check} onChange={(e) => handleValue({ color: e })} placeholder='Color' />\n                        {\n                            error ?\n                                <Box sx={{ my: 1, bgcolor: '#ff4c4c', borderRadius: 1, p: 1 }} >\n                                    <Typography variant='h7' sx={{ color: '#fff' }}>{error}</Typography>\n                                </Box>\n                                : null\n                        }\n                    </Stack>\n                    <Stack direction='row' justifyContent='flex-end' sx={{ pt: 2 }}>\n                        <Button variant='contained' color='error' onClick={closeModal} sx={{ mr: 1 }}>Cancel</Button>\n                        <Button variant='contained' color='info' onClick={createOne}>\n                            {isEdit ? \"Update\" : \"Create\"}\n                        </Button>\n                    </Stack>\n                </DialogContent>\n            </Dialog>\n        </>\n    )\n}\n\nexport default Home;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\nexports.default = _default;"],"names":["useState","open","setOpen","isEdit","setIsEdit","projects","setProjects","name","color","mark","check","error","values","setValues","user","useConfig","handleValue","data","pre","closeModal","createOne","updateProject","id","rdata","status","map","e","_id","toast","message","createProject","remove","preventDefault","deleteProject","filter","getData","getProjects","useEffect","sx","width","height","bgcolor","p","variant","fontWeight","mb","container","spacing","i","item","xl","md","sm","xs","component","RouterLink","to","position","borderRadius","justifyContent","border","cursor","transition","borderColor","boxShadow","display","fontSize","alignItems","mr","textTransform","getColor","maxWidth","overflow","textOverflow","whiteSpace","textAlign","opacity","moment","createdAt","format","role","className","direction","top","right","zIndex","onClick","openEdit","borderTop","pt","mt","theme","palette","info","main","Date","onClose","py","required","value","onChange","target","placeholder","my","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}