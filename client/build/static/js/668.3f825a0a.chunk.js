"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[668],{5668:function(e,r,t){t.r(r);var n=t(4165),o=t(2982),i=t(5861),s=t(1413),a=t(885),c=t(2791),l=t(1087),d=t(2426),u=t.n(d),x=t(6015),f=t(5953),h=t(4162),p=t(7205),m=t(2637),Z=t(5017),j=t(4565),g=t(3811),v=t(464),b=t(8440),w=t(6912),y=t(2419),k=t(1286),C=t(7247),S=t(456),A=t(5985),z=t(1377),_=t(7154),D=t(184);r.default=function(){var e=(0,c.useState)(!1),r=(0,a.Z)(e,2),t=r[0],d=r[1],M=(0,c.useState)(""),P=(0,a.Z)(M,2),R=P[0],W=P[1],L=(0,c.useState)([]),q=(0,a.Z)(L,2),E=q[0],I=q[1],O=(0,c.useState)({name:"",color:"#dddddd",mark:0,check:!1,error:""}),N=(0,a.Z)(O,2),T=N[0],U=N[1],F=(0,_.Z)().user,H=T.name,V=T.color,$=T.error,B=T.check,G=function(e){return U((function(r){return(0,s.Z)((0,s.Z)({},r),e)}))},J=function(){d(!1),U({name:"",check:!1,error:"",mark:0})},K=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G({check:!0}),H){e.next=3;break}return e.abrupt("return");case 3:if(!R){e.next=10;break}return e.next=6,(0,S.ty)({name:H,color:V,id:R});case 6:(r=e.sent).status?(I((function(e){return e.map((function(e){return e._id===r.data._id?r.data:e}))})),J()):A.Am.error(r.message),e.next=14;break;case 10:return e.next=12,(0,S.$L)({name:H,color:V});case 12:(t=e.sent).status?(I((function(e){return[].concat((0,o.Z)(e),[t.data])})),J()):A.Am.error(t.message);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(r,t){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,(0,S.th)(t);case 3:(o=e.sent).status?I((function(e){return e.filter((function(e){return e._id!==t}))})):A.Am.error(o.message);case 5:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),X=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.mW)(F._id);case 2:(r=e.sent).status?I(r.data):A.Am.error(r.message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){X()}),[]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(x.Z,{sx:{width:"100%",height:"100%",bgcolor:"#f5f5f5",p:4},children:[(0,D.jsx)(j.Z,{variant:"h5",sx:{fontWeight:"600",mb:3},children:"Home"}),(0,D.jsx)(f.ZP,{container:!0,spacing:2,children:E.map((function(e,r){return(0,D.jsx)(f.ZP,{item:!0,xl:2,md:2.4,sm:6,xs:12,children:(0,D.jsxs)(p.Z,{component:l.rU,to:e._id,sx:{position:"relative",color:e.color,borderRadius:2,justifyContent:"flex-start",width:"100%",border:"1px solid #e0e1e1",p:2,bgcolor:"#fff",cursor:"pointer",transition:"all 0.2s","&:hover":{borderColor:"#fff",boxShadow:"0 0 9px 0px #c0c0c0","& .manage":{display:"block"}}},children:[(0,D.jsx)(x.Z,{sx:{bgcolor:e.color,borderRadius:2,width:56,height:56,fontSize:20,fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",mr:2,textTransform:"uppercase",color:(0,z.Lq)(e.color)},children:e.name[0]}),(0,D.jsxs)(h.Z,{sx:{width:"calc(100% - 76px)",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[(0,D.jsx)(j.Z,{sx:{fontSize:16,textAlign:"start",color:"#000"},children:e.name}),(0,D.jsx)(j.Z,{sx:{fontSize:12,opacity:.7,textAlign:"start",color:"#000"},children:u()(e.createdAt).format("MM/DD/yyyy")})]}),"Admin"===(null===F||void 0===F?void 0:F.role)&&(0,D.jsxs)(h.Z,{className:"manage",direction:"row",sx:{position:"absolute",top:5,right:5,zIndex:999,display:"none"},children:[(0,D.jsx)(g.Z,{sx:{p:.5},onClick:function(r){return function(e,r){e.preventDefault(),W(r._id),d(!0),G({name:r.name,color:r.color,check:!1})}(r,e)},children:(0,D.jsx)(k.Z,{sx:{fontSize:16}})}),(0,D.jsx)(g.Z,{sx:{p:.5},onClick:function(r){return Q(r,e._id)},children:(0,D.jsx)(C.Z,{sx:{fontSize:16}})})]})]})},r)}))}),F&&"Admin"===F.role&&(0,D.jsx)(x.Z,{sx:{borderTop:"1px solid #e0e1e1",pt:4,mt:4},children:(0,D.jsx)(f.ZP,{container:!0,spacing:2,children:(0,D.jsx)(f.ZP,{item:!0,xl:2,md:2.4,sm:6,xs:12,children:(0,D.jsxs)(p.Z,{onClick:function(e){e.preventDefault(),d(!0)},sx:{borderRadius:2,justifyContent:"flex-start",width:"100%",border:"1px solid #e0e1e1",p:2,bgcolor:"#fff",cursor:"pointer",transition:"all 0.2s","&:hover":{boxShadow:"0 0 9px 0px #c0c0c0",borderColor:"#fff"}},children:[(0,D.jsx)(x.Z,{sx:{bgcolor:function(e){return e.palette.info.main},borderRadius:2,width:56,height:56,display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:(0,D.jsx)(y.Z,{sx:{color:"#fff"}})}),(0,D.jsxs)(h.Z,{sx:{width:"calc(100% - 76px)",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[(0,D.jsx)(j.Z,{sx:{fontSize:16,textAlign:"start",color:"#000"},children:"Create one"}),(0,D.jsx)(j.Z,{sx:{fontSize:12,opacity:.7,textAlign:"start",color:"#000"},children:u()(new Date).format("MM/DD/yyyy")})]})]})})})})]}),(0,D.jsxs)(m.Z,{open:t,onClose:J,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,D.jsx)(v.Z,{id:"alert-dialog-title",children:"".concat(R?"Edit":"Create a new"," project")}),(0,D.jsxs)(b.Z,{children:[(0,D.jsxs)(h.Z,{spacing:1,sx:{py:1},children:[(0,D.jsx)(Z.Z,{required:!0,value:H,error:!H&&B,onChange:function(e){return G({name:e.target.value})},placeholder:"Project Name",sx:{width:500}}),(0,D.jsx)(w.O,{required:!0,value:V,error:!V&&B,onChange:function(e){return G({color:e})},placeholder:"Color"}),$?(0,D.jsx)(x.Z,{sx:{my:1,bgcolor:"#ff4c4c",borderRadius:1,p:1},children:(0,D.jsx)(j.Z,{variant:"h7",sx:{color:"#fff"},children:$})}):null]}),(0,D.jsxs)(h.Z,{direction:"row",justifyContent:"flex-end",sx:{pt:2},children:[(0,D.jsx)(p.Z,{variant:"contained",color:"error",onClick:J,sx:{mr:1},children:"Cancel"}),(0,D.jsx)(p.Z,{variant:"contained",color:"info",onClick:K,children:R?"Update":"Create"})]})]})]})]})}},1286:function(e,r,t){var n=t(1941);r.Z=void 0;var o=n(t(5649)),i=t(184),s=(0,o.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");r.Z=s}}]);
//# sourceMappingURL=668.3f825a0a.chunk.js.map